---
categories: algorithm
layout: post
---

# 概率生成函数

对于取值为自然数的随机变量X，定义概率生成函数为


$$
f(z)=\sum_{i=0}^\infty P(X=i)z^i
$$



很显然


$$
f(1)=\sum_{i=0}^\infty P(X=i)=1
$$




其中P(x=i)为随机变量取到i的概率。利用概率生成函数可以简单地计算期望：

$$
f'(1)=\sum_{i=1}^\infty P(X=i)iz^{i-1}|_{z=1}=\sum_{i=1}^\infty P(X=i)i=E[X]
$$


可以递推推出对于$i\geq 2$有


$$
E[X^i]=(zf^{(i-1)}(z))'|_{z=1}=f^{(i-1)}(z)+zf^{(i)}(z)|_{z=1}=f^{(i-1)}(1)+f^{(i)}(1)
$$


比较重要的就是计算方差的公式：


$$
var(X)=E[X^2]-E[X]^2=f''(1)+f'(1)-f'(1)^2
$$



# 参考资料

- [https://blog.csdn.net/xyz32768/article/details/84668382](https://blog.csdn.net/xyz32768/article/details/84668382)