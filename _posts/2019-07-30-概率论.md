---
categories: mathematic
layout: post
---

- Table
{:toc}
# 单调函数密度函数

已知随机变量$X$的概率密度函数$f_X(x)$，定义$Y=g(X)$，$g$是严格单调函数，我们可以用下面的方法计算$f_Y(y)$。

首先记$h=g^{-1}$。我们计算$Y$的分布函数。仅考虑递增的情况。



$$
F_Y(y)=P(Y\leq y) =P(g(X)\leq  y)=P(X\leq h(y))=F_X(h(y))
$$



接下来对分布函数进行求导，得到概率密度函数：



$$
\frac{\partial F_Y(y)}{\partial y}=\frac{\partial F_X(h(y))}{\partial y}=f_X(h(y))h'(y)=f_X(h(y))|h'(y)|
$$



# 绝对值密度函数

记$Y=\|X\|$，计算，计算$F_Y$

如下：

$$
F_Y(y)=P(Y\leq y) = P(|X|\leq y)=P(-y\leq X\leq y)=F_X(y)-F_X(-y)
$$



对分布函数求导得到密度函数：



$$
f_Y(y)=\frac{\partial F_Y(y)}{\partial y}=f_X(y)+f_X(-y)
$$



# 重期望法则

对于任意两个随机变量X、Y。


$$
E[X]=\int_{-\infin}^{\infin}xf_X(x)dx\\
=\int_{-\infin}^{\infin}xdx\int_{-\infin}^{\infin} f_{X|Y}(x|y)f_Y(y)dy\\
=\int_{-\infin}^{\infin}f_Y(y)dy\int_{-\infin}^{\infin} xf_{X|Y}(x|y)dx\\
=\int_{-\infin}^{\infin}E[X|Y=y]f_Y(y)dy\\
=E[E[X|Y]]
$$


离散情况下只需要将积分符号替换为$\sum$即可。

# 重方差法则

对于任意两个随机变量X、Y。


$$
var[X]=E[X^2]-E[X]^2\\
=E[E[X^2|Y]]-E[E[X|Y]]^2\\
=E[E[X|Y]^2]-E[E[X|Y]]^2+E[E[X^2|Y]]-E[E[X|Y]^2]\\
=var[E[X|Y]]+E[E[X^2|Y]-E[X|Y]^2]\\
=var[E[X|Y]]+E[var[X|Y]]
$$


# 矩母函数

随机变量X的矩母函数定义为：


$$
E_X(s)=E[e^{sX}]
$$


对矩母函数进行求导可以得到：


$$
\frac{d}{ds^n}M_X(s)=\frac{d}{ds^n}\int_{-\infin}^{\infin} e^{sx}f_X(x)dx\\
=\int_{-\infin}^{\infin} \frac{d(e^{sx})}{ds^n}f_X(x)dx\\
=\int_{-\infin}^{\infin} x^ne^{sx}f_X(x)dx
$$


当s取0时有：


$$
\frac{d}{ds^n}M_X(0)=\int_{-\infin}^{\infin} x^nf_X(x)dx=E[X^n]
$$


# 两个变量的和

记$Z=X+Y$，计算分布函数得到：


$$
F_{Z|X}(z|x)=P(Z\leq z | X= x)=P(X+Y\leq z | X = x)\\
=P(Y\leq z-x)=F_Y(z-x)
$$


对分布函数求导得到密度函数：


$$
f_{Z|X}(z|x)=\frac{d}{dz}F_{Z|X}(z|x)=\frac{d}{dz}F_Y(z-x)=f_Y(z-x)
$$



同理，当$X=Z-Y$时，可以推出


$$
F_{X|Y}(x|y)=F_Z(y+x)\\
f_{X|Y}(x|y)=f_Z(y+z)
$$


