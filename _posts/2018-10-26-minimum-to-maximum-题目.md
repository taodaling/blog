---
categories: problem
layout: post
---

# 问题描述

假设我们有一个大小为n数组A，我们允许做下面操作：

- 将数组某个成员减少1同时令另外一个成员增加1。

我们希望仅通过上面的操作将数组的某个下标x的值A[x]成为整个数组的最大值（无并列最大）。

# 解法

1. 贪心，将除x外其他下标维护成最大堆，不断减少堆中最大值直到A[x]最大。时间复杂度为O(Dlog2n)。其中D是数组中的上下界的差值。
2. 二分枚举操作次数，并对应的判断是否在该操作次数下实现。时间复杂度为O(log2D*log2n+n)。

# 证明

我们仅证明第一种方案能得到正确的解。我们记f(h)表示将除A[x]外的数组元素的最大高度降低到h所需的最少操作数，则问题转化为我们需要寻找一个k，使得k-f(A[x]+k-1)>=0。考虑到f是非严格递减函数，因此k-f(A[x]+k-1)严格递增，故我们可以使用二分法。

我们将数组绘制为柱状图，不难证明f(h)表示柱状图中高度超过h的部分的面积。这样变相的我们的贪心算法就是降低柱状图的高度。