---
categories: thought
layout: post
---

- table
{:toc}

# 问题的变性

算法中有些很神奇的技术可以将问题变性。即将一个问题转换为与原问题不相关的或截然相反的若干个子问题解决。

下面介绍下这些神奇的算法：

## 二分算法

在一个xy坐标系，有一条递增（递减曲线），我们希望找到该曲线与$y=y_0$的交点$(x_0,y_0)$。

这是交点问题。。。但是如果曲线不是简单的函数，是很难判断交点的。

假如好好利用递增的性质，我们就可以将交点问题转换为若干次（对数级别）的比较问题。

### 举个例子

一个递增数组查找某个数值所在下标。很显然我们没有公式可以判断交点，但是二分区间，我们就可以将问题转换为了对数次的比较问题。

## 严格递增函数的二分

非严格递增（递减）函数的反函数是未必有定义的，但是严格递增（递减）函数是一定有反函数且反函数一定也是严格递增（递减）函数。

通过函数变反加二分，我们可以解决一些寻找曲线在$x=x_0$处的交点$(x_0,y_0)$的问题。

### 举个例子

计算$\sqrt{x}$。这是一个典型的问题。很容易发现函数是严格单调递增的，利用这个性质，我们得到反函数：
$$
x=y^2
$$
。之后利用二分即可。

## 容斥

统计某个集合中满足性质的元素数目，可以通过统计集合大小减去不满足性质的元素数目得到。

统计某个集合S中满足某个性质集合P的元素数目，可以通过统计集合S的所有子集中T中不满足P的某个子集Q的元素数目得到。

### 举个例子

统计1~100中能不能被2和3整除的数数目。

问题等价于统计1~100中能被2或3整除的数的数目，可以用容斥解决：


$$
100-(\lfloor\frac{100}{2}\rfloor+\lfloor\frac{100}{3}\rfloor-\lfloor\frac{100}{6}\rfloor)=100-(50+33-16)=33
$$


## MIN-MAX容斥

统计某个全序集中数值的最大值（最小值），等于统计所有子集的最小值（最大值）。

### 举个例子

计算马尔可夫链上经历某个状态集合中所有状态的期望时间。

将第i个状态的首次到达时间记作$X_i$，记状态集合为$X$，我们要求的是
$$
\max X
$$
。但是在期望中这是不好计算的，但是首次访问X中状态的时间
$$
\min X
$$
是容易计算的。因此可以用MIN-MAX容斥将最大值期望转换为若干次的最小值期望的计算：


$$
E[\max X]=E[\sum_{T\subseteq X}(-1)^{|T|+1}\min T]=\sum_{T\subseteq X}(-1)^{|T|+1}E[\min T]
$$


