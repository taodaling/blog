---
categories: algorithm
layout: post
---

- Table
{:toc}
# 取整运算的结合性

**对于任意非负整数a和正整数b,c，下面等式成立：**


$$
\Big\lfloor \frac{\big\lfloor \frac{a}{b} \big\rfloor}{c} \Big\rfloor
=\Big\lfloor \frac{a}{bc} \Big\rfloor
$$


证明：

记$p_1=\Big\lfloor \frac{\big\lfloor \frac{a}{b} \big\rfloor}{c} \Big\rfloor$，那么由整除的定义我们可以得到


$$
\big\lfloor \frac{a}{b} \big\rfloor= p_1c+r_1
$$


其中$r_1 < c$。进一步利用整除的定义得到：


$$
a=(p_1c+r_1)b+r_2=p_1cb+r_1b+r_2
$$


其中$r_2 < b$。对公式两边同时除去$bc$得到：


$$
\frac{a}{bc}=p_1+\frac{r_1b+r_2}{bc}
$$


由于：


$$
r_1b+r_2<r_1b+b=b(r_1+1)\leq bc
$$


因此我们认为$\Big\lfloor \frac{r_1b+r_2}{bc} \Big\rfloor = 0$。对左右两端都向下取整得到：


$$
\Big\lfloor \frac{a}{bc} \Big\rfloor=p_1+\Big\lfloor \frac{r_1b+r_2}{bc} \Big\rfloor = p_1=\Big\lfloor \frac{\big\lfloor \frac{a}{b} \big\rfloor}{c} \Big\rfloor
$$


命题得证。

