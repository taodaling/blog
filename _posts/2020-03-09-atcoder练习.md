---
categories: algorithm
layout: post
---

- Table
{:toc}

# ThREE *

**题意**

[https://atcoder.jp/contests/hitachi2020/tasks/hitachi2020_c](https://atcoder.jp/contests/hitachi2020/tasks/hitachi2020_c)

**题解**

比赛的时候没想到怎么做。比较偏数值技巧的题目。

由于树是二分图，将顶点分成两类，记作$L$和$R$，我们恒认为$L$中包含较少的顶点。

现在考虑两种情况：

- 如果$\mid L\mid \leq \lfloor \frac{n}{3} \rfloor$，那么就讲$L$中的顶点全部用$3$的倍数来填充。
- 否则，将$3k+1$全部用于填充$L$，而$3k+2$全部用于填充$R$，剩余的随意。

# Manga Market *

**题意**

[https://atcoder.jp/contests/hitachi2020/tasks/hitachi2020_d](https://atcoder.jp/contests/hitachi2020/tasks/hitachi2020_d)

**题解**

比赛的时候没做出来，昨天比赛也出现了一道指数性增长的DP，也没发现，看来需要多多练习这类指数增长的DP了。

这个问题可以很容易推出DP公式，其中$dp(i,j)$表示的是仅考虑前$i$个商店，共遍历了$j$个商店的最少花费时间。

很容易发现DP的时间复杂度是$O(n^2)$，是过不了的。

但是由于题目里面暗藏了一个线索，每个商店的等待时间是$at+b$，其中$t$是到达时间。这里我们将商店分成两类，第一类就是$a$为0的商店，第二类就是$a$不为0的商店。第一类肯定放在第二类之后决策，这时候贪心即可。现在考虑第二类的商店，在我们访问了一家店铺后，离开时间至少为$1$，可以发现在第二家商铺的时候，第一家商铺花费的时间会在结果出现两次，而第三家商铺的时候，第一家商铺花费的时间会在结果中出现四次。实际上这是一个指数增长的过程，因此我们可以断定最多访问$\log_2T$家第二类商铺。这样DP就可行了，总的时间复杂度为$O(n(\log_2T+\log_2n))$。

# Square Rotation *

**题意**

[https://atcoder.jp/contests/dwacon5th-prelims/tasks/dwacon5th_prelims_d](https://atcoder.jp/contests/dwacon5th-prelims/tasks/dwacon5th_prelims_d)

**题解**

首先如果两个顶点坐标模$d$的时候相等，那么我们可以旋转操作将这些坐标任意排放。现在的问题是有$x_{ij}$个顶点位于坐标$(i,j)$处，问至少需要多大的方形可以包括所有顶点。

考虑大小为$ad+b$的情况，这时候若$i,j<b$，那么最多允许存在$(a+1)^2$个顶点，如果$i,j\geq b$，那么最多允许存在$a^2$个顶点，其它情况最多允许存在$a(a+1)$个顶点。

我们可以用二分法来查找最小的方形大小。同时利用区间和技术来判断左下角为$(x,y)$的时候矩形是否满足条件。总的时间复杂度为$O(D^2\log_2(nD))$。


# Atcoder jsc2019_qual_d

**题意**

[https://atcoder.jp/contests/jsc2019-qual/tasks/jsc2019_qual_d](https://atcoder.jp/contests/jsc2019-qual/tasks/jsc2019_qual_d)

**题解**

一个图，如果所有的环都是偶数长度当且仅当该图是二分图。

首先说方案，对于n，我们将其分为n层。如果两个顶点的标号i、j第一个不同的二进制位为第k位，那么边(i,j)属于第k类。由于第k个图中的边的两侧端点的第k二进制位都不同，因此一定是二分图。由此证明了方案是正确的划分。

下面证明最少要划分为
$$
\lceil \log_2n \rceil
$$
层。

一个图能的边如果能够被分类为k类，那么我们称该图满足k分，满足k分的显然也能满足k+1分。下面我们证明一个命题：

**命题：能被k分的最大完全图包含$2^k$个顶点。**

证明：

归纳法证明。当k为0和1的时候命题显然成立。下面考虑已知命题在$k=x$时成立，那么考虑大小为$2^x+1$的完全图。我们知道它至少得被x分，那么它能被x分吗？假设它能被x分，我们知道每个层级都是将图划分为左右两部分，图中共$2^x+1$个顶点，因此任意层的二分图的至少一侧有$2^{x-1}+1$个顶点。考虑我们第x层二分图，我们设左边有不少于$2^{x-1}+1$个顶点，那么我们将左边的顶点重新标号为$1,2,\ldots, 2^{x-1}+1$，接下来将其余所有顶点删除，这就转换成了大小为$2^{x-1}+1$的图的一个分类。考虑到第x层图只有左侧顶点，即没有边的存在，因此不需要第x层图。即我们证明了大小为$2^{x-1}+1$的图能被$x-1$分。但是由归纳法知道，这是不可能的。

至此，命题证明完毕。
