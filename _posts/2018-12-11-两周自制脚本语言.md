---
categories: note
layout: post
---



# 第1天 来，我们一起做些什么吧

设计程序使用的语言称为程序设计语言，如java，c，ruby等。

程序员必须使用与各程序设计语言相匹配的软件来执行由该语言写成的程序，这种软件称为语言处理器。

有些程序设计语言无需借助软件执行，也就是说，不需要语言处理器，这些语言称为机器语言。机器语言可以直接由硬件解释执行，理论上不必使用软件。机器语言书写的程序只有载入内存后才能通过硬件执行，因此用户在实际使用时，必须通过软件从磁盘文件读取机器语言程序，再将它复制到内存。不过这类程序称不上语言处理器，通常称为操作系统（OS）。

汇编语言于机器语言是很容易混淆的概念。机器语言写成的程序本质上是字节序列。由于它不易阅读，人们常通过汇编语言程序来表述这个巨大的数字，使其容易理解。如果要执行汇编语言写成的程序，用户需要先使用软件将其 转换成机器语言。这种软件称为汇编语言（assembler）。汇编程序可以说是一种最基本的语言处理器。

语言处理器可以分为解释器与编译器两种，其区别如下：

- 解释器

解释器根据程序中的算法执行运算。简单来讲，它是一种用于执行程序的软件。如果执行的程序由虚拟机器语言或类似于机器语言的程序设计语言写成，这种软件也能称为虚拟机。

- 编译器

编译器能将某种语言写成的程序转换为另外一种语言的程序。通常它会将原程序转换为机器语言程序。编译器转换程序的行为称为编译，转换前的程序称为源代码或源程序。如果编译器没有把源代码直接转换为机器语言，一般称为源代码转换器或源码转换器（source code translator）。

程序设计语言提供了何种类型的语言处理器不一而论，一些具有解释器，一些则会提供编译器。例如，尽管C语言也提供了解释器，但是一般使用的都是编译器。有些语言混用解释器与编译器，java语言会先将源代码转换为二进制代码，之后由jvm解释执行。

无论是解释器还是编译器，其前半部分都大同小异。源代码首先需要进行词法分析，由一长串字符串细分为多个小的字符串单元。分割后的字符串称为单词。之后处理器将执行语法分析，把单词排列转换为抽象语法树。之后编译器将会把抽象语法树转换为其他语言，而解释器将会一边分析抽象语法树一边执行运算。

# 第2天 设计程序语言



略

# 第三天 分割单词

语言处理器的第一个组成部分是词法分析其（lexical analyzer、lexer或scanner）。程序的源代码最初只是一长串字符串。这样的长字符串很难处理，语言处理器通常会首先将字符串中的字符以单词为单位分组，切割为多个子字符串。这就是词法分析。

## Token

比如下面代码：

```python
while i < 10 {
```

经过词法分析后将得到下面子串：

```python
"while" "i" "<" "10" "{"
```

这句代码被分割为5个字符串。其中while是一个词语，但是要把<与{也称为词语，确实有些不自然，因此，人们通常把词法分析的结果称为单词(token)。

词法分析将筛选出程序的解释与执行必须的成分，而单词之间的空白和注释都会再这一阶段被剔除。例如:

```python
i = i + 1 //increment
i=i+1
```

上面两行代码词法分析后有着相同的结果：

```python
"i" "=" "i" "+" "1"
```

词法分析将源代码分割为若干单词，而分割后的单词将由Token对象表示。这种对象不仅记录了该单词的字符串形式，还会保存单词的类型，单词所处位置的行号等信息。实际的单词是Token的子类。