---
categories: algorithm
layout: post
---

- Table
{:toc}

# 切比雪夫距离

对于二维平面上两个点(a,b),(c,d)，它们的切比雪夫距离定义为


$$
\max(|a-c|,|b-d|)
$$


由于切比雪夫距离不容易被预处理，有时候需要先转换为曼哈顿距离进行处理。下面给出转换的数学公式：


$$
|a-c|+|b-d|=\max(|(a+b)-(c+d)|,|(a-b)-(c-d)|)
$$


证明方式比较简单，首先将右边公式转换为：


$$
\max(|(a-c)+(b-d)|,|(a-c)-(b-d)|)
$$


考虑两种情况，第一种$a-c$与$b-d$同号。那么右边的公式取值为$\|(a-c)+(b-d)\|=\|a-c\|+\|b-d\|$。而第二种情况下，$a-c$与$b-d$异号。那么右边的公式取值为$\|(a-c)-(b-d)\|=\|a-c\|+\|-(b-d)\|=\|a-c\|+\|b-d\|$。因此证明了等式的成立。



利用这个公式我们可以先将所有平面上的点$(x,y)$转换为$(x+y,x-y)$的形式，之后计算各个点间的切比雪夫距离就可以得到原平面的曼哈顿距离。同理，如果我们将平面上的点$(x,y)$转换为$(\frac{x+y}{2}, \frac{x-y}{2}})$，之后计算各个点之间的曼哈顿距离，那么就可以得到原平面的切比雪夫距离。

# BZOJ3170

**题意**

[https://www.lydsy.com/JudgeOnline/problem.php?id=3170](https://www.lydsy.com/JudgeOnline/problem.php?id=3170)

**题解**

距离是切比雪夫距离，非常难算。但是如果距离是曼哈顿距离的话，似乎就非常简单了。我们可以先将切比雪夫距离转换为曼哈顿距离（如何转换见切比雪夫距离这一段）。之后假设我们选择$(x_0,y_0)$作为集合点，那么总路程为：


$$
\sum_{i=1}^n(|x_i-x_0|+|y_i-y_0|)=\sum_{i=1}^n|x_i-x_0|+\sum_{i=1}^n|y_i-y_0|
$$


可以发现x和y坐标可以分开计算，而计算单一维度非常简单，这里不赘述。

# BZOJ1337

**题意**

[https://www.lydsy.com/JudgeOnline/problem.php?id=1337](https://www.lydsy.com/JudgeOnline/problem.php?id=1337)

**题解**

我们可以枚举圆心坐标来求最小半径。当圆心坐标确定时，计算半径时间复杂度为$O(n)$。

记$f(x,y)$表示以(x,y)为圆心时的最小半径。容易发现当x或y一者固定时$f(x,y)$是单峰函数。记$f_X(x)=\min_y(f(x,y))$，容易看出$f_X$也是单峰函数。因此我们需要做的就是三分套三分，分别枚举圆心的横坐标和纵坐标，总的时间复杂度为$O(n(\log_2M)^2)$，其中M是最大坐标。

题目的实际数据量好像并不大，估计只有几千左右。所以速度不是很重要，精度要调整的小些。

# BZOJ1052

**题意**

[https://www.lydsy.com/JudgeOnline/problem.php?id=1052](https://www.lydsy.com/JudgeOnline/problem.php?id=1052)

**题解**

由所有点可以确定唯一的面积最小的矩形R，包含所有点。

先考虑只有一个正方形的情况，这时候边长一定是R的长。

再考虑两个正方形的情况，如果四边形边长小于R的长，那么我们可以保证两个四边形分别与R的两条边接触，即两个四边形落在R的两个对角顶点上。

考虑三个正方形的情况，如果四边形边长小于R的长，那么我们能保证至少一个四边形落在R的一个顶点上。这是必然的，不然所有四边形最多与1条R的边接触，那么有一条R的边将没有与任何四边形接触，即有点没被覆盖。我们可以枚举四个角的情况，用掉一个正方形，接着就是用两个四边形覆盖未被覆盖的顶点的情况了。这总的时间复杂度是$O(n)$。

容易发现随着正方形边增大，覆盖从不可能转换为可能。因此可以二分。总的时间复杂度为$O(nlogn)$。

