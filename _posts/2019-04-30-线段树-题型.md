---
categories: problems
layout: post
---

- Table
{:toc}
# RMQ

**题目：**

一个数组，支持下面两种操作：

- 将某个区间\[l,r\]中的数全部加上某个数x。
- 查询区间\[l,r\]上的最大值和最小值。

**题解：**

线段树裸题

# 维护带修改动态规划

**题目：**

一个长度为n的数组A，支持下面两种操作：

- 修改A\[i\]
- 对于所有满足$1\leq i,j,k \leq n,i\leq j \leq k$的三个下标，求$A\[i\]-B\[j\]+C\[k\]$的最大值。

**题解：**

如果没有修改操作，这个问题很明显是动态规划问题。加入动态规划后，就不能简单用动态规划来解决了。我们可以维护一个代表区间$\[1,n\]$的线段树，线段树中每个顶点维护自己所在区间的$a$，$-b$，$a-b$，$a-b+c$的最大值。每次更新的时间复杂度是$O(n\log_2n)$，查询的时间复杂度为$O(1)$。



