---
categories: tool
layout: post
---
- Table
{:toc}
# 概论

## 为什么需要微服务

大型的应用包含一些紧密耦合的组件，这些组件必须作为一个整体被一同开发，部署和管理。由于应用是以进程的形式启动的，对任意组件的修改都需要重启整个应用才能生效。并且组件缺乏明确边界会导致开发复杂度的不断增加，同时作为结果导致整个系统质量的不断恶化。

运行一个巨大的应用往往对硬件的要求也会更高，这类应用一般会要求少数的几台强力服务器来为应用提供足够的资源。要处理系统不断上升的负载，你要么通过继续增加服务器的性能来提供垂直扩展，或者通过增加机器和服务数来进行水平扩展。垂直扩展不需要变更应用代码，实现起来比较容器，但是服务器的配置具有上限，并且服务器的费用的增长速度回比负载增长的速度更快。而水平扩展虽然可以通过使用廉价服务器降低开支，但是要求应用中的每一个组件都必需支持水平扩展，这个条件是很难实现的，比如关系型数据库就很难支持水平扩展。

这一系列的问题都强迫我们将大型应用切分为更小的独立组件，每个组件都可以独立部署，这些组件称为微服务。每个微服务都作为独立进程运行，并通过网络与其他组件进行通讯。

由于微服务更小，所以开发复杂度更低，并且它们是独立部署的，因此我们仅需要修改必要的组件，并进行重启，而不需要变动整个应用。

## 为什么需要Kubernetes

原来我们以手动的方式配置启动服务。这些工作交由运维团队，部署好服务后，运维团队还需要监控这些服务，一旦其中一些服务出现故障，他们还需要将服务迁移到其它健康的机器上。

如今，庞大的服务在逐渐被切分为更小的，独立运行的组件，这些组件被称为微服务。由于微服务彼此解耦，因此他们可以被独立的开发，部署，更新。这能帮助你跟上快速变化的业务需求的脚步。

但是越来越多的服务，已经很难再如往日一般手动配置，部署和管理了。我们很难得知如何在机器和服务之间进行关联可以获得更好的资源利用率，因此也无从削减硬件开销。我们需要自动化，需要自动化地在服务和机器之间进行关联，自动化的配置，监控和故障处理。

这就是我们为什么需要Kubernetes的原因了。

## Kubernates提供了什么

Kubernetes抽象了基础硬件，并将整个数据中心抽象为一个单独的巨大的计算资源。

Kubernetes非常适用于已存的数据中心，但是让其真正发挥作用的还要数云服务提供商。Kubernetes允许他们向开发者提供一个简单的平台，用于部署和允许任意类型的应用，而不需要提供商提供自己的管理员账户，来知晓运行在他们硬件上数以万记的服务的任何信息。